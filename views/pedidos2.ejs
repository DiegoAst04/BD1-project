<!DOCTYPE html>
<html lang="es-PE">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedidos</title>
    <!--CDN Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body>
    <header>
      <div class="restaurant"></div>
    </header>
    <article>
      <div class="sidebar">
        <ul class="upper">
          <li>
            <a class="side-a" href="#">
              <div class="side-icon">
                <i class="fa-solid fa-chart-line"></i>
              </div>
              Ventas
            </a>
          </li>
          <li>
            <a class="side-a" href="/pedidos0">
              <div class="side-icon">
                <i class="fa-solid fa-sheet-plastic"></i>
              </div>
              Pedidos
            </a>
          </li>
          <li>
            <a class="side-a" href="/empleados">
              <div class="side-icon">
                <i class="fa-solid fa-users"></i>
              </div>
              Empleados
            </a>
          </li>
          <li>
            <a class="side-a" href="#">
              <div class="side-icon">
                <i class="fa-solid fa-cart-shopping"></i>
              </div>
              Productos
            </a>
          </li>
          <li>
            <a class="side-a" href="#">
              <div class="side-icon">
                <i class="fa-solid fa-plus"></i>
              </div>
              y otra más
            </a>
          </li>
        </ul>
        <ul class="lower">
          <li>
            <a class="side-a" href="#">
              <div class="side-icon">
                <i class="fa-solid fa-gear"></i>
              </div>
              Configuración
            </a>
          </li>
          <li>
            <a class="side-a" href="/logout">
              <div class="side-icon">
                <i class="fa-solid fa-right-from-bracket"></i>
              </div>
              Cerrar Sesión
            </a>
          </li>
        </ul>
      </div>
      <div class="content">
        <div class="ped_opciones">
          <button class="ped_optn">
            <i class="fa-solid fa-bowl-food"></i>
            Platos
          </button>
          <button class="ped_optn">
            <i class="fa-solid fa-mug-saucer"></i>
            Bebidas
          </button>
          <button class="ped_optn">
            <i class="fa-solid fa-ice-cream"></i>
            Postres
          </button>
          <button class="ped_optn">
            <i class="fa-solid fa-check"></i>
            Terminar pedido
          </button>
        </div>
        
        <div id="modal-window" style="display: none;">
          <div class="modal">
            <div class="close">
              <span>&times;</span>
            </div>
            <h3 class="modal-h3">Seleccione item</h3>
            <form action="">
              <div class="modal-elemnt">
                <div class="qty">
                  <div class="qty-btn">-</div>
                  <input class="qty-val" type="number" min="0" max="99" value="0">
                  <div class="qty-btn">+</div>
                </div>
              </div>
              <button class="submit-btn">Añadir</button>
            </form>
          </div>
        </div>
      
        <table class="table" id="orden">
          <thead>
              <tr>
                  <th>ID</th>
                  <th>Nombre</th>
                  <th>Descripción</th>
                  <th>Tipo</th>
                  <th>Precio</th>
              </tr>
          </thead>
          <tbody>
            <% pedidos.forEach(plato => { %>
                <tr>
                    <td><%= plato.ID %></td>
                    <td><%= plato.nombre %></td>
                    <td><%= plato.descripcion %></td>
                    <td><%= plato.tipo %></td>
                    <td><%= plato.precio %></td>
                </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    </article>
    <script>
      const modal = document.querySelector('#modal-window');
      const qtyBtns = modal.querySelectorAll('.qty-btn');
      const qtyInput = modal.querySelector('.qty-val');
      const closeBtn = modal.querySelector('.close');
      const pedBtns = document.querySelectorAll('.ped_optn')

      function openModal() {
        modal.style.display = 'flex'
      }
      function closeModal() {
        modal.style.display = 'none';
      }
      
      qtyBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          let currentValue = parseInt(qtyInput.value);
          if (btn.textContent === '+') {
            currentValue++;
          } else if (btn.textContent === '-' && currentValue > 0) {
            currentValue--;
          }
          qtyInput.value = currentValue;
        });
      });

      pedBtns.forEach(btn => {
        btn.addEventListener('click', openModal);
      })
      closeBtn.addEventListener('click', closeModal); 
    </script>
  </body>
</html>
